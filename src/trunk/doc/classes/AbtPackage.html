<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
  <head>
    <title>Class: AbtPackage</title>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
    <link rel="stylesheet" href=".././rdoc-style.css" type="text/css" media="screen" />

    <script language="JavaScript" type="text/javascript">
    // <![CDATA[

        function toggleSource( id )
        {
          var elem
          var link

          if( document.getElementById )
          {
            elem = document.getElementById( id )
            link = document.getElementById( "l_" + id )
          }
          else if ( document.all )
          {
            elem = eval( "document.all." + id )
            link = eval( "document.all.l_" + id )
          }
          else
            return false;

          if( elem.style.display == "block" )
          {
            elem.style.display = "none"
            link.innerHTML = "show source"
          }
          else
          {
            elem.style.display = "block"
            link.innerHTML = "hide source"
          }
        }

        function openCode( url )
        {
          window.open( url, "SOURCE_CODE", "width=400,height=400,scrollbars=yes" )
        }
      // ]]>
    </script>
  </head>

  <body>
  <table width="100%" border='0' cellpadding='0' cellspacing='0' class='banner'><tr>
  <td class="file-title"><span class="file-title-prefix">Class</span><br />AbtPackage</td>
  <td align="right">
    <table cellspacing=0 cellpadding=2>
      <tr valign="top">
        <td>In:</td>
        <td>
<a href="../files/AbtPackage_rb.html">AbtPackage.rb</a>
        </td>
      </tr>
    <tr>
      <td>Parent:</td>
      <td>
Object
     </td>
   </tr>
         </table>
        </td>
        </tr>
      </table>
 <!-- banner header -->

  <div id="bodyContent">
      <div id="content">
  <table cellpadding='0' cellspacing='0' border='0' width="100%"><tr><td align="center">
    <map id="map" name="map">
  <area shape="RECT" coords="29,52,117,100"      href="AbtPackage.html" alt="AbtPackage">
</map>
<img src="../dot/f_4.png" usemap="#map" border=0 alt="TopLevel">
  </td></tr></table>

  <div class="description"><p>
AbtPackage.rb
</p>
<p>
<a href="AbtPackage.html">AbtPackage</a> class provides an interface to <a
href="AbtPackage.html">AbtPackage</a> creation within AbTLinux. By
inheriting from this class (class Fortune &lt; <a
href="AbtPackage.html">AbtPackage</a>) one picks up all supported standard
functions for the abt <a href="AbtPackage.html">AbtPackage</a> manager to
make use of the new <a href="AbtPackage.html">AbtPackage</a>.
</p>
<p>
Created by Eric D. Schabell &lt;erics@abtlinux.org&gt; Copyright 2006, GPL.
</p>
<p>
This file is part of AbTLinux.
</p>
<p>
AbTLinux is free software; you can redistribute it and/or modify it under
the terms of the GNU General Public License as published by the Free
Software Foundation; either version 2 of the License, or (at your option)
any later version.
</p>
<p>
AbTLinux is distributed in the hope that it will be useful, but WITHOUT ANY
WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE. See the GNU General Public License for more
details.
</p>
<p>
You should have received a copy of the GNU General Public License along
with AbTLinux; if not, write to the Free Software Foundation, Inc., 51
Franklin St, Fifth Floor, Boston, MA 02110-1301 USA
</p>
</div>



  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="#M000027">build</a></li>
  <li><a href="#M000026">configure</a></li>
  <li><a href="#M000024">details</a></li>
  <li><a href="#M000029">install</a></li>
  <li><a href="#M000023">new</a></li>
  <li><a href="#M000030">post</a></li>
  <li><a href="#M000025">pre</a></li>
  <li><a href="#M000028">preinstall</a></li>
  </ul>





  <div class="sectiontitle">Attributes</div>
  <table border='0' cellpadding='5'>
  <tr valign='top'>
    <td class='attr-rw'>
[R]
    </td>
    <td class='attr-name'>dependsOn</td>
    <td class='attr-desc'>
list of dependsOn (DO) related package dependencies.

</td>
  </tr>
  <tr valign='top'>
    <td class='attr-rw'>
[R]
    </td>
    <td class='attr-name'>description</td>
    <td class='attr-desc'>
the package description.

</td>
  </tr>
  <tr valign='top'>
    <td class='attr-rw'>
[R]
    </td>
    <td class='attr-name'>execName</td>
    <td class='attr-desc'>
the executable name for the package.

</td>
  </tr>
  <tr valign='top'>
    <td class='attr-rw'>
[R]
    </td>
    <td class='attr-name'>hashCheck</td>
    <td class='attr-desc'>
security hash value of package sources.

</td>
  </tr>
  <tr valign='top'>
    <td class='attr-rw'>
[R]
    </td>
    <td class='attr-name'>homepage</td>
    <td class='attr-desc'>
the packages homepage.

</td>
  </tr>
  <tr valign='top'>
    <td class='attr-rw'>
[R]
    </td>
    <td class='attr-name'>licence</td>
    <td class='attr-desc'>
type of license this package has.

</td>
  </tr>
  <tr valign='top'>
    <td class='attr-rw'>
[R]
    </td>
    <td class='attr-name'>mirrorPath</td>
    <td class='attr-desc'>
available mirrors for this package.

</td>
  </tr>
  <tr valign='top'>
    <td class='attr-rw'>
[R]
    </td>
    <td class='attr-name'>name</td>
    <td class='attr-desc'>
the name of the package.

</td>
  </tr>
  <tr valign='top'>
    <td class='attr-rw'>
[R]
    </td>
    <td class='attr-name'>optionalDO</td>
    <td class='attr-desc'>
list of optional reliesOn (oRO) related package dependencies.

</td>
  </tr>
  <tr valign='top'>
    <td class='attr-rw'>
[R]
    </td>
    <td class='attr-name'>optionalRO</td>
    <td class='attr-desc'>
list of optional dependsOn (oDO) related package dependencies.

</td>
  </tr>
  <tr valign='top'>
    <td class='attr-rw'>
[R]
    </td>
    <td class='attr-name'>patches</td>
    <td class='attr-desc'>
list of available patches for this package.

</td>
  </tr>
  <tr valign='top'>
    <td class='attr-rw'>
[R]
    </td>
    <td class='attr-name'>patchesHashCheck</td>
    <td class='attr-desc'>
security hash value of this packages patches.

</td>
  </tr>
  <tr valign='top'>
    <td class='attr-rw'>
[R]
    </td>
    <td class='attr-name'>reliesOn</td>
    <td class='attr-desc'>
list of reliesOn (RO) related package dependencies.

</td>
  </tr>
  <tr valign='top'>
    <td class='attr-rw'>
[R]
    </td>
    <td class='attr-name'>srcDir</td>
    <td class='attr-desc'>
the source directory for the package.

</td>
  </tr>
  <tr valign='top'>
    <td class='attr-rw'>
[R]
    </td>
    <td class='attr-name'>srcUrl</td>
    <td class='attr-desc'>
the URL where this packages sources can be obtained.

</td>
  </tr>
  <tr valign='top'>
    <td class='attr-rw'>
[R]
    </td>
    <td class='attr-name'>version</td>
    <td class='attr-desc'>
the package version number.

</td>
  </tr>
  </table>

<div class="sectiontitle">Public Class methods</div>
<div class="method">
  <div class="title">
    <a name="M000023"></a><b>new</b>( data )
  </div>
  <div class="description">
  <p>
Constructor for an <a href="AbtPackage.html">AbtPackage</a>, requires all
the packge details.
</p>
<p>
<b>PARAM</b> <em>Hash</em> - hash containing all package data.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000023_source')" id="l_M000023_source">show source</a> ]</p>
  <div id="M000023_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File AbtPackage.rb, line 93</span>
 93:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>( <span class="ruby-identifier">data</span> )
 94:     
 95:     <span class="ruby-ivar">@name</span> = <span class="ruby-identifier">data</span>[<span class="ruby-value str">'name'</span>]
 96:     <span class="ruby-ivar">@execName</span> = <span class="ruby-identifier">data</span>[<span class="ruby-value str">'execName'</span>]
 97:     <span class="ruby-ivar">@version</span> = <span class="ruby-identifier">data</span>[<span class="ruby-value str">'version'</span>]
 98:     <span class="ruby-ivar">@srcDir</span> = <span class="ruby-identifier">data</span>[<span class="ruby-value str">'srcDir'</span>]
 99:     <span class="ruby-ivar">@homepage</span> = <span class="ruby-identifier">data</span>[<span class="ruby-value str">'homepage'</span>]
100:     <span class="ruby-ivar">@srcUrl</span> = <span class="ruby-identifier">data</span>[<span class="ruby-value str">'srcUrl'</span>]
101:     <span class="ruby-ivar">@dependsOn</span> = <span class="ruby-identifier">data</span>[<span class="ruby-value str">'dependsOn'</span>]
102:     <span class="ruby-ivar">@reliesOn</span> = <span class="ruby-identifier">data</span>[<span class="ruby-value str">'reliesOn'</span>]
103:     <span class="ruby-ivar">@optionalDO</span> = <span class="ruby-identifier">data</span>[<span class="ruby-value str">'optionalDO'</span>]
104:     <span class="ruby-ivar">@optionalRO</span> = <span class="ruby-identifier">data</span>[<span class="ruby-value str">'optionalRO'</span>]
105:     <span class="ruby-ivar">@hashCheck</span> = <span class="ruby-identifier">data</span>[<span class="ruby-value str">'hashCheck'</span>]
106:     <span class="ruby-ivar">@patches</span> = <span class="ruby-identifier">data</span>[<span class="ruby-value str">'patches'</span>]
107:     <span class="ruby-ivar">@patchesHashCheck</span> = <span class="ruby-identifier">data</span>[<span class="ruby-value str">'patchesHashCheck'</span>]
108:     <span class="ruby-ivar">@mirrorPath</span> = <span class="ruby-identifier">data</span>[<span class="ruby-value str">'mirrorPath'</span>]
109:     <span class="ruby-ivar">@license</span> = <span class="ruby-identifier">data</span>[<span class="ruby-value str">'license'</span>]
110:     <span class="ruby-ivar">@description</span> = <span class="ruby-identifier">data</span>[<span class="ruby-value str">'description'</span>]
111:         
112:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="sectiontitle">Public Instance methods</div>
<div class="method">
  <div class="title">
    <a name="M000027"></a><b>build</b>()
  </div>
  <div class="description">
  <p>
Here is where the actual builing of the software starts, for example
running &#8216;make&#8217;.
</p>
<p>
<b>RETURNS:</b> <em>boolean</em> - True if the completes sucessfully,
otherwise false.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000027_source')" id="l_M000027_source">show source</a> ]</p>
  <div id="M000027_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File AbtPackage.rb, line 168</span>
168:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">build</span>
169:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000026"></a><b>configure</b>()
  </div>
  <div class="description">
  <p>
Here we manage the ./configure step (or equivalent). We need to give
./configure (or autogen.sh, or whatever) the correct options so files are
to be placed later in the right directories, so doc files and man pages are
all in the same common location, etc. Don&#8216;t forget too that
it&#8217;s here where we interact with the user in case there are optionnal
dependencies.
</p>
<p>
<b>RETURNS:</b> <em>boolean</em> - True if the completes sucessfully,
otherwise false.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000026_source')" id="l_M000026_source">show source</a> ]</p>
  <div id="M000026_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File AbtPackage.rb, line 160</span>
160:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">configure</span>
161:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000024"></a><b>details</b>()
  </div>
  <div class="description">
  <p>
Provides all the data needed for this <a
href="AbtPackage.html">AbtPackage</a>.
</p>
<p>
<b>RETURNS:</b> <em>hash</em> - Contains all <a
href="AbtPackage.html">AbtPackage</a> attributes (constants).
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000024_source')" id="l_M000024_source">show source</a> ]</p>
  <div id="M000024_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File AbtPackage.rb, line 119</span>
119:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">details</span>
120:   
121:     <span class="ruby-keyword kw">return</span> { 
122:       <span class="ruby-value str">'name'</span>            =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@name</span>,
123:       <span class="ruby-value str">'execName'</span>        =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@execName</span>,
124:       <span class="ruby-value str">'version'</span>         =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@version</span>,
125:       <span class="ruby-value str">'srcDir'</span>          =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@srcDir</span>,
126:       <span class="ruby-value str">'homepage'</span>        =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@homepage</span>,
127:       <span class="ruby-value str">'srcUrl'</span>          =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@srcUrl</span>,
128:       <span class="ruby-value str">'dependsOn'</span>       =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@dependsOn</span>,
129:       <span class="ruby-value str">'reliesOn'</span>        =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@reliesOn</span>,
130:       <span class="ruby-value str">'optionalDO'</span>      =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@optionalDO</span>,
131:       <span class="ruby-value str">'optionalRO'</span>      =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@optionalRO</span>,
132:       <span class="ruby-value str">'hashCheck'</span>        =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@hashCheck</span>,
133:       <span class="ruby-value str">'patches'</span>         =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@patches</span>,
134:       <span class="ruby-value str">'patchesHashCheck'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@patchesHashCheck</span>,
135:       <span class="ruby-value str">'mirrorPath'</span>      =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@mirrorPath</span>,
136:       <span class="ruby-value str">'license'</span>         =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@license</span>,
137:       <span class="ruby-value str">'description'</span>     =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@description</span>
138:     }
139:     
140:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000029"></a><b>install</b>()
  </div>
  <div class="description">
  <p>
All files to be installed are installed here.
</p>
<p>
<b>RETURNS:</b> <em>boolean</em> - True if the completes sucessfully,
otherwise false.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000029_source')" id="l_M000029_source">show source</a> ]</p>
  <div id="M000029_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File AbtPackage.rb, line 185</span>
185:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">install</span>
186:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000030"></a><b>post</b>()
  </div>
  <div class="description">
  <p>
Last bits of installation. adding the service for automatic start in init.d
for example.
</p>
<p>
<b>RETURNS:</b> <em>boolean</em> - True if the completes sucessfully,
otherwise false.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000030_source')" id="l_M000030_source">show source</a> ]</p>
  <div id="M000030_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File AbtPackage.rb, line 193</span>
193:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">post</span>
194:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000025"></a><b>pre</b>()
  </div>
  <div class="description">
  <p>
Preliminary work will happen here such as downloading the tarball,
unpacking it, downloading and applying patches.
</p>
<p>
<b>RETURNS:</b> <em>boolean</em> - True if completes sucessfully, otherwise
false.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000025_source')" id="l_M000025_source">show source</a> ]</p>
  <div id="M000025_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File AbtPackage.rb, line 148</span>
148:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">pre</span>
149:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000028"></a><b>preinstall</b>()
  </div>
  <div class="description">
  <p>
Any actions needed before the installation can occur will happen here, such
as creating new user accounts, dealing with existing configuration files,
etc.
</p>
<p>
<b>RETURNS:</b> <em>boolean</em> - True if the completes sucessfully,
otherwise false.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000028_source')" id="l_M000028_source">show source</a> ]</p>
  <div id="M000028_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File AbtPackage.rb, line 177</span>
177:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">preinstall</span>
178:   <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>

    </body>
</html>