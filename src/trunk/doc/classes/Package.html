<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
  <head>
    <title>Class: Package</title>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
    <link rel="stylesheet" href=".././rdoc-style.css" type="text/css" media="screen" />

    <script language="JavaScript" type="text/javascript">
    // <![CDATA[

        function toggleSource( id )
        {
          var elem
          var link

          if( document.getElementById )
          {
            elem = document.getElementById( id )
            link = document.getElementById( "l_" + id )
          }
          else if ( document.all )
          {
            elem = eval( "document.all." + id )
            link = eval( "document.all.l_" + id )
          }
          else
            return false;

          if( elem.style.display == "block" )
          {
            elem.style.display = "none"
            link.innerHTML = "show source"
          }
          else
          {
            elem.style.display = "block"
            link.innerHTML = "hide source"
          }
        }

        function openCode( url )
        {
          window.open( url, "SOURCE_CODE", "width=400,height=400,scrollbars=yes" )
        }
      // ]]>
    </script>
  </head>

  <body>
  <table width="100%" border='0' cellpadding='0' cellspacing='0' class='banner'><tr>
  <td class="file-title"><span class="file-title-prefix">Class</span><br />Package</td>
  <td align="right">
    <table cellspacing=0 cellpadding=2>
      <tr valign="top">
        <td>In:</td>
        <td>
<a href="../files/Package_rb.html">Package.rb</a>
        </td>
      </tr>
    <tr>
      <td>Parent:</td>
      <td>
Object
     </td>
   </tr>
         </table>
        </td>
        </tr>
      </table>
 <!-- banner header -->

  <div id="bodyContent">
      <div id="content">
  <table cellpadding='0' cellspacing='0' border='0' width="100%"><tr><td align="center">
    <map id="map" name="map">
  <area shape="RECT" coords="29,52,101,100"      href="Package.html" alt="Package">
</map>
<img src="../dot/f_0.png" usemap="#map" border=0 alt="TopLevel">
  </td></tr></table>

  <div class="description"><p>
Package.rb
</p>
<p>
<a href="Package.html">Package</a> class provides an interface to package
creation within AbTLinux. By inheriting from this class (class Fortune &lt;
<a href="Package.html">Package</a>) one picks up all supported standard
functions for the abt package manager to make use of the new package.
</p>
<p>
Created by Eric D. Schabell &lt;erics@abtlinux.org&gt; Copyright 2006, GPL.
</p>
<p>
This file is part of AbTLinux.
</p>
<p>
AbTLinux is free software; you can redistribute it and/or modify it under
the terms of the GNU General Public License as published by the Free
Software Foundation; either version 2 of the License, or (at your option)
any later version.
</p>
<p>
AbTLinux is distributed in the hope that it will be useful, but WITHOUT ANY
WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE. See the GNU General Public License for more
details.
</p>
<p>
You should have received a copy of the GNU General Public License along
with AbTLinux; if not, write to the Free Software Foundation, Inc., 51
Franklin St, Fifth Floor, Boston, MA 02110-1301 USA
</p>
</div>



  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="#M000004">build</a></li>
  <li><a href="#M000003">configure</a></li>
  <li><a href="#M000001">details</a></li>
  <li><a href="#M000006">install</a></li>
  <li><a href="#M000007">post</a></li>
  <li><a href="#M000002">pre</a></li>
  <li><a href="#M000005">preinstall</a></li>
  </ul>





  <div class="sectiontitle">Attributes</div>
  <table border='0' cellpadding='5'>
  <tr valign='top'>
    <td class='attr-rw'>
[R]
    </td>
    <td class='attr-name'>description</td>
    <td class='attr-desc'></td>
  </tr>
  <tr valign='top'>
    <td class='attr-rw'>
[R]
    </td>
    <td class='attr-name'>integrity</td>
    <td class='attr-desc'></td>
  </tr>
  <tr valign='top'>
    <td class='attr-rw'>
[R]
    </td>
    <td class='attr-name'>licence</td>
    <td class='attr-desc'></td>
  </tr>
  <tr valign='top'>
    <td class='attr-rw'>
[R]
    </td>
    <td class='attr-name'>name</td>
    <td class='attr-desc'></td>
  </tr>
  <tr valign='top'>
    <td class='attr-rw'>
[R]
    </td>
    <td class='attr-name'>srcdir</td>
    <td class='attr-desc'></td>
  </tr>
  <tr valign='top'>
    <td class='attr-rw'>
[R]
    </td>
    <td class='attr-name'>srcfile</td>
    <td class='attr-desc'></td>
  </tr>
  <tr valign='top'>
    <td class='attr-rw'>
[R]
    </td>
    <td class='attr-name'>srcurl</td>
    <td class='attr-desc'></td>
  </tr>
  <tr valign='top'>
    <td class='attr-rw'>
[R]
    </td>
    <td class='attr-name'>url</td>
    <td class='attr-desc'></td>
  </tr>
  <tr valign='top'>
    <td class='attr-rw'>
[R]
    </td>
    <td class='attr-name'>version</td>
    <td class='attr-desc'></td>
  </tr>
  </table>

<div class="sectiontitle">Public Instance methods</div>
<div class="method">
  <div class="title">
    <a name="M000004"></a><b>build</b>()
  </div>
  <div class="description">
  <p>
Here is where the actual builing of the software starts, for example
running &#8216;make&#8217;.
</p>
<p>
<b>RETURNS:</b> <em>boolean</em> - True if the completes sucessfully,
otherwise false.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000004_source')" id="l_M000004_source">show source</a> ]</p>
  <div id="M000004_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File Package.rb, line 77</span>
77:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">build</span>
78:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000003"></a><b>configure</b>()
  </div>
  <div class="description">
  <p>
Here we manage the ./configure step (or equivalent). We need to give
./configure (or autogen.sh, or whatever) the correct options so files are
to be placed later in the right directories, so doc files and man pages are
all in the same common location, etc. Don&#8216;t forget too that
it&#8217;s here where we interact with the user in case there are optionnal
dependencies.
</p>
<p>
<b>RETURNS:</b> <em>boolean</em> - True if the completes sucessfully,
otherwise false.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000003_source')" id="l_M000003_source">show source</a> ]</p>
  <div id="M000003_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File Package.rb, line 69</span>
69:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">configure</span>
70:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000001"></a><b>details</b>()
  </div>
  <div class="description">
  <p>
Provides all the data needed for this package.
</p>
<p>
<b>RETURNS:</b> <em>hash</em> - Contains all package attributes.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000001_source')" id="l_M000001_source">show source</a> ]</p>
  <div id="M000001_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File Package.rb, line 48</span>
48:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">details</span>
49:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000006"></a><b>install</b>()
  </div>
  <div class="description">
  <p>
All files to be installed are installed here.
</p>
<p>
<b>RETURNS:</b> <em>boolean</em> - True if the completes sucessfully,
otherwise false.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000006_source')" id="l_M000006_source">show source</a> ]</p>
  <div id="M000006_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File Package.rb, line 94</span>
94:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">install</span>
95:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000007"></a><b>post</b>()
  </div>
  <div class="description">
  <p>
Last bits of installation. adding the service for automatic start in init.d
for example.
</p>
<p>
<b>RETURNS:</b> <em>boolean</em> - True if the completes sucessfully,
otherwise false.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000007_source')" id="l_M000007_source">show source</a> ]</p>
  <div id="M000007_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File Package.rb, line 102</span>
102:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">post</span>
103:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000002"></a><b>pre</b>()
  </div>
  <div class="description">
  <p>
Preliminary work will happen here such as downloading the tarball,
unpacking it, downloading and applying patches.
</p>
<p>
<b>RETURNS:</b> <em>boolean</em> - True if completes sucessfully, otherwise
false.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000002_source')" id="l_M000002_source">show source</a> ]</p>
  <div id="M000002_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File Package.rb, line 57</span>
57:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">pre</span>
58:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000005"></a><b>preinstall</b>()
  </div>
  <div class="description">
  <p>
Any actions needed before the installation can occur will happen here, such
as creating new user accounts, dealing with existing configuration files,
etc.
</p>
<p>
<b>RETURNS:</b> <em>boolean</em> - True if the completes sucessfully,
otherwise false.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000005_source')" id="l_M000005_source">show source</a> ]</p>
  <div id="M000005_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File Package.rb, line 86</span>
86:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">preinstall</span>
87:     <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>

    </body>
</html>